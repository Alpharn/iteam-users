<div
  *ngIf="userData$ | async as userData"
  class="personal-wrapper">
  <div class="avatar">
    <img
      class="avatar"
      src="https://t3.ftcdn.net/jpg/02/61/57/04/360_F_261570402_ja0EsYGUax9yJF8l7jibXA5JtI1ISe71.jpg"
      alt="User avatar" />
  </div>
  <div class="inner">
    <div class="name-wrapper">
      <p class="mat-headline-5 mb-0">
        {{ userData.name || 'No Name' }}
        {{ userData.surname }}
      </p>
      <button
        mat-icon-button
        class="icon-btn"
        aria-label="Edit content button"
        (click)="onEditPersonal()">
        <mat-icon>edit</mat-icon>
      </button>
      <button
        mat-icon-button
        class="icon-btn"
        aria-label="Copy content button"
        (click)="clipboardService.copyToClipboard(userData, clipboardRegistry)">
        <mat-icon>content_copy</mat-icon>
      </button>
    </div>
    <div class="info">
      <div class="bio">
        <p
          *ngIf="userData.status"
          class="detail">
          Status:
          <span [ngClass]="userData.status">
            {{
              userData.status === userStatus.archived ? 'Deactivated' : 'Active'
            }}
          </span>
          <mat-slide-toggle
            appConfirmDialog
            #toggle
            [checked]="checkUserActive(userData.status)"
            (change)="toggle.checked = checkUserActive(userData.status)"
            (confirm)="onToggleStatus(userData.status)"></mat-slide-toggle>
        </p>
        <p
          *ngIf="userData.birthday"
          class="detail">
          <mat-icon class="icon birthday">cake</mat-icon>
          <span>{{ userData.birthday | date }}</span>
        </p>
        <p
          *ngIf="userData.phone"
          class="detail">
          {{ userData.phone }}
        </p>
        <p class="detail">
          {{ userData.email }}
        </p>
      </div>
      <div class="terms">
        <p class="detail">
          <span class="term">Start:</span>
          <span>{{ userData.startDate | date }}</span>
        </p>
        <p
          *ngIf="userData.endDate"
          class="detail">
          <span class="term">End:</span>
          <span>{{ userData.endDate | date }}</span>
        </p>
        <p
          *ngIf="userData.endReason"
          class="detail">
          <span class="term">Reason:</span>
          <span>{{ userData.endReason }}</span>
        </p>
        <p class="detail project-status">
          <span class="term">Project:</span>
          <span>{{ userData.isOnProject ? 'ON' : 'OFF' }}</span>
          <span [ngClass]="userData.isOnProject ? 'on' : 'off'">
            <span class="bg-circle"></span>
            <mat-icon>
              {{ userData.isOnProject ? 'check_circle' : 'cancel' }}
            </mat-icon>
          </span>
        </p>
      </div>
    </div>
  </div>
</div>
